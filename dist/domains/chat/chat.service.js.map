{"version":3,"file":"chat.service.js","sourceRoot":"","sources":["../../../src/domains/chat/chat.service.ts"],"names":[],"mappings":"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"}